<div class="h-[18px]"></div>
<button
class=" mr-2 hidden sticky bottom-16 right-10 z-10 float-end border-1 border-zinc-300 border-opacity-15  bg-opacity-15 backdrop-blur-md p-3  shadow-md transition duration-150 ease-in-out group/item"
id="ScrollToTopSmall">
<span class="[&>svg]:w-4 group/item">
    <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="3"
    stroke="currentColor"
    class="absolute w-5 h-5 
    transition delay-500 duration-300 ease-out -translate-y-1 
    
    animate-none 
    invisible

    group-active/item:visible 
    group-active/item:animate-ping  
    
    group-hover/item:animate-none
    group-hover/item:invisible

    group-focus/item:animate-none
    group-focus/item:invisible
    ">
    <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18" />
    </svg>
    <svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="3"
    stroke="currentColor"
    class="w-5 h-5 transition delay-75 duration-300 ease-out group-active/item:-translate-y-1 group-active/item:duration-75 group-active/item:delay-0 group-hover/item:-translate-y-0 translate-y-0 group-focus/item:-translate-y-0">
    <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18" />
    </svg>
</span>
</button>

<script>
  // Get the button
const mybutton = document.getElementById("ScrollToTopSmall");

var lastScrollPos = 0;

const scrollFunction = () => {

  let isScrollDown = false;
  let isAtTop = false;
  let isAtBottom = false;
  let currentScrollPos = window.pageYOffset || document.documentElement.scrollTop;

  if(currentScrollPos > lastScrollPos){
    isScrollDown = true;
  } else{
    isScrollDown = false;
  }
  lastScrollPos = currentScrollPos;

  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20 ) {
    isAtTop = false;
  } else {
     isAtTop = true;
  }

  if ((window.innerHeight + Math.round(window.scrollY)) >= document.body.offsetHeight) {
    isAtBottom = true;
  } else {
    isAtBottom = false;
  }

  if ( (!isAtTop && !isScrollDown) | isAtBottom ) {
    mybutton.classList.remove("hidden");
  } else {
    mybutton.classList.add("hidden");
  }
};
const backToTop = () => {
window.scrollTo({ top: 0, behavior: "smooth" });
};

// When the user clicks on the button, scroll to the top of the document
mybutton.addEventListener("click", backToTop);

window.addEventListener("scroll", scrollFunction);
</script>